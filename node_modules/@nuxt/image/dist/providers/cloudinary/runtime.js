"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("~image/utils");
const operationsGenerator = utils_1.createOperationsGenerator({
    keyMap: {
        fit: 'c',
        width: 'w',
        height: 'h',
        format: 'f'
    },
    valueMap: {
        fit: {
            fill: 'fill',
            inside: 'pad',
            outside: 'lpad',
            cover: 'fit',
            contain: 'scale'
        }
    },
    joinWith: ',',
    formatter: (key, value) => `${key}_${value}`
});
exports.default = {
    getImage(src, modifiers, options) {
        const operations = operationsGenerator(modifiers);
        return {
            url: utils_1.cleanDoubleSlashes(options.baseURL + '/' + operations + src)
        };
    }
};
