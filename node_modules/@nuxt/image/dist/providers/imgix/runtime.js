"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("~image/utils");
const operationsGenerator = utils_1.createOperationsGenerator({
    keyMap: {
        width: 'w',
        height: 'h',
        format: 'fm'
    },
    valueMap: {
        fit: {
            fill: 'scale',
            inside: 'fit-max',
            outside: 'fit-min',
            cover: 'crop',
            contain: 'fill'
        }
    },
    joinWith: '&',
    formatter: (key, value) => `${key}=${value}`
});
exports.default = {
    getImage(src, modifiers, options) {
        const operations = operationsGenerator(modifiers);
        const url = utils_1.cleanDoubleSlashes(options.baseURL + src + '?' + operations);
        return {
            url
        };
    }
};
